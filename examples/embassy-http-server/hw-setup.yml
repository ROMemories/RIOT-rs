buses: # TODO: rename this? Shared communication interfaces
  i2c:
    - name: I2C0
      peripheral:
        TWISPI0:
          on: nrf52840
          sda:
            - pin: P0_30
              on: nrf52840dk
              pull_up: false
          scl:
            - pin: P0_31
              on: nrf52840dk
              pull_up: false
          frequency: !K100

        I2C0:
          on: rp2040
          sda:
            - pin: P0_30  # FIXME: not an RP2040 pin
              pull_up: false
          scl:
            - pin: P0_31  # FIXME: not an RP2040 pin
              pull_up: false
          frequency: !K100
  spi:
    - name: SPI0
      peripheral:
        SPI2:
          on: nrf52840
          sck:
            - pin: P1_15
              on: nrf52840dk
          miso:
            - pin: P1_14
              on: nrf52840dk
          mosi:
            - pin: P1_13
              on: nrf52840dk
          mode: !Mode0

sensors:
  - name: TEMP_SENSOR
    driver: riot_rs::embassy::arch::internal_temp::InternalTemp
    label: "internal"
    on: nrf52

  - name: BUTTON_1
    driver: riot_rs::builtin_sensors::push_buttons::PushButton
    label: 'btn1'
    on: nrf52840dk
    when: button-readings
    peripherals:
      - !input
        on: nrf52840dk
        pin: P0_11
        pull: !up  # FIXME

  - name: ACCEL
    driver: riot_rs::builtin_sensors::lis3dh::Lis3dh::<riot_rs::embassy::arch::i2c::I2c>
    label: 'accel'
    with:
      mode: '@riot_rs::builtin_sensors::lis3dh::Mode::Normal'
      enable_z_axis: true
    bus:
      !i2c
      I2C0:

  # - name: HUMID_TEMP
  #   driver: riot_rs::builtin_sensors::aht20::Aht20::<riot_rs::embassy::arch::i2c::I2c>
  #   bus:
  #     !i2c
